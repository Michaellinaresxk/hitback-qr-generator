<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ‰ HITBACK - QR Generator Escalable</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="success-header">
            <h1>ğŸ‰ Â¡HITBACK QR GENERATOR!</h1>
            <p style="font-size: 1.3rem; margin-top: 15px; opacity: 0.9;">
                ğŸ¯ Escalable âœ… | QRs Consistentes âœ… | Auto-Sync âœ…
            </p>
            
            <!-- ğŸ›ï¸ PANEL DE CONTROL -->
            <div class="control-panel">
                <h3>ğŸ›ï¸ Control Panel</h3>
                
                <div class="mode-controls">
                    <button onclick="setMode('static')" class="btn mode-btn" id="staticBtn">
                        ğŸ“± Modo EstÃ¡tico
                    </button>
                    <button onclick="setMode('hybrid')" class="btn mode-btn active" id="hybridBtn">
                        ğŸ”„ Modo HÃ­brido (Recomendado)
                    </button>
                    <button onclick="setMode('dynamic')" class="btn mode-btn" id="dynamicBtn">
                        ğŸŒ Modo DinÃ¡mico
                    </button>
                </div>
                
                <div class="sync-controls">
                    <button onclick="syncFromBackend()" class="btn btn-sync">
                        ğŸ”„ Sincronizar Nuevas Canciones
                    </button>
                    <button onclick="generateAllQRs()" class="btn btn-generate">
                        ğŸ¯ Generar Todos los QRs
                    </button>
                    <button onclick="downloadAllQRs()" class="btn btn-download">
                        ğŸ“¦ Descargar Pack Completo
                    </button>
                </div>
                
                <div class="environment-selector">
                    <label>ğŸŒ Ambiente de ProducciÃ³n:</label>
                    <select id="environmentSelect" onchange="changeEnvironment()">
                        <option value="local">ğŸ  Local (localhost:3000)</option>
                        <option value="dev" selected>ğŸ”§ Development (192.168.1.10:3000)</option>
                        <option value="prod">ğŸš€ Production (tu-dominio.com)</option>
                    </select>
                </div>
            </div>
        </div>
        
        <!-- ğŸ“Š ESTADO ACTUAL -->
        <div class="status-success" id="statusBar">
            âš¡ Iniciando QR Generator...
        </div>
        
        <!-- ğŸŠ CELEBRACIÃ“N -->
        <div class="celebration">
            ğŸµğŸ‰ğŸš€
        </div>

        <!-- ğŸ“± GRID DE QRs -->
        <div class="qr-grid" id="qrGrid">
            <div class="loading-state">
                <h3>ğŸ”„ Inicializando generador...</h3>
                <div class="loading-spinner"></div>
            </div>
        </div>
        
        <!-- ğŸ“ˆ ESTADÃSTICAS -->
        <div class="stats-panel" id="statsPanel" style="display: none;">
            <h3>ğŸ“Š EstadÃ­sticas</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number" id="totalTracks">0</span>
                    <span class="stat-label">Total Tracks</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="newTracks">0</span>
                    <span class="stat-label">Nuevas Canciones</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="qrGenerated">0</span>
                    <span class="stat-label">QRs Generados</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="lastSync">Nunca</span>
                    <span class="stat-label">Ãšltima Sync</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ğŸš€ JavaScript Mejorado -->
    <script src="app.js"></script>
    
    <!-- ğŸ“± PWA Support (Opcional) -->
    <script>
        // Service Worker para funcionamiento offline
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js').catch(() => {
                console.log('PWA no disponible');
            });
        }
    </script>
</body>
</html>